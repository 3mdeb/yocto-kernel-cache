From d5f98379ee7fa50f51edc6c52ccd0332cf20662f Mon Sep 17 00:00:00 2001
From: Bruce Ashfield <bruce.ashfield@gmail.com>
Date: Tue, 5 Mar 2019 18:52:18 -0500
Subject: [PATCH 1/6] aufs4: kbuild patch

upstream: https://github.com/sfjro/aufs4-standalone.git

Signed-off-by: Bruce Ashfield <bruce.ashfield@gmail.com>
---
 fs/Kconfig      | 1 +
 fs/Makefile     | 1 +
 fs/Makefile.rej | 6 ++++++
 3 files changed, 8 insertions(+)
 create mode 100644 fs/Makefile.rej

diff --git a/fs/Kconfig b/fs/Kconfig
index 73707d287cdb..4171d7e64191 100644
--- a/fs/Kconfig
+++ b/fs/Kconfig
@@ -256,6 +256,7 @@ source "fs/pstore/Kconfig"
 source "fs/sysv/Kconfig"
 source "fs/ufs/Kconfig"
 source "fs/exofs/Kconfig"
+source "fs/aufs/Kconfig"
 
 endif # MISC_FILESYSTEMS
 
diff --git a/fs/Makefile b/fs/Makefile
index ca6125945a3b..5d9198a18e0d 100644
--- a/fs/Makefile
+++ b/fs/Makefile
@@ -129,3 +129,4 @@ obj-$(CONFIG_CEPH_FS)		+= ceph/
 obj-$(CONFIG_PSTORE)		+= pstore/
 obj-$(CONFIG_EFIVAR_FS)		+= efivarfs/
 obj-$(CONFIG_YAFFS_FS)		+= yaffs2/
+obj-$(CONFIG_AUFS_FS)           += aufs/
diff --git a/fs/Makefile.rej b/fs/Makefile.rej
new file mode 100644
index 000000000000..10121e2eec8f
--- /dev/null
+++ b/fs/Makefile.rej
@@ -0,0 +1,6 @@
+diff a/fs/Makefile b/fs/Makefile	(rejected hunks)
+@@ -128,3 +128,4 @@ obj-y				+= exofs/ # Multiple modules
+ obj-$(CONFIG_CEPH_FS)		+= ceph/
+ obj-$(CONFIG_PSTORE)		+= pstore/
+ obj-$(CONFIG_EFIVAR_FS)		+= efivarfs/
++obj-$(CONFIG_AUFS_FS)           += aufs/
-- 
2.19.1

